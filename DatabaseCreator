package who_is_that_champion;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.URL;
import java.util.Map;
import java.util.Set;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;

public class DatabaseCreator {

    public JSONObject CreateDatabasebyLane() throws IOException, ParseException {
        //obtaining Names
        URL url = new URL("http://global.api.pvp.net/api/lol/static-data/{region}/v1.2/champion?api_key=" + "KEY");//Key Is necessary
        InputStream inputstream = url.openStream();
        InputStreamReader reader = new InputStreamReader(inputstream);
        BufferedReader buffer = new BufferedReader(reader);
        JSONParser parser = new JSONParser();
        JSONObject champData = (JSONObject) parser.parse(buffer);
        Map<String,JSONObject> champDataMap=(JSONObject) champData.get("Data");
        Set<String> champKeysSet=champDataMap.keySet();
        String[] champKeys=champKeysSet.toArray(new String[champDataMap.size()]);
        //Creating lanes objects.
        JSONObject Lane= new JSONObject();
        for(int i=0;i<champDataMap.size();i++){
            JSONObject Champs= new JSONObject();
            Lane.put(champKeys[i],Champs);
            for(int j=0;j<champDataMap.size();j++){
                if(j==i){continue;}
                JSONObject enemyChamps= new JSONObject();
                Champs.put(champKeys[j], enemyChamps);   
                //when fill the database enemyChamps.put(stat,value); (Delete this comment at finishing).
            }
        }
       return Lane; 
    }/*Bot lane may require a new data base*/

}
